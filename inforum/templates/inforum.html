{% extends 'base.html' %}

{% block meta%}
<link href="https://cdn.jsdelivr.net/npm/daisyui@2.33.0/dist/full.css" rel="stylesheet" type="text/css" />
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.tailwindcss.com"></script>

{%endblock meta%}

{% block content %}
<main class="max-w-screen min-h-screen bg-gray-50">
    <section class="w-full h-[300px] relative shadow-lg">
        <img src="../../static/assets/inforum-banner.jpg" alt="banner" class="w-full h-full absolute object-cover"/>
        <div class="w-full h-full z-10 absolute flex justify-center items-center gap-x-5 text-white">
            <h1 class="text-center text-7xl font-semibold  mb-3 ">inForum </h1>
            <div class="border-l-2 border-white h-[150px] w-[200px] pl-10 flex flex-col justify-center">
                <h3 class="text-3xl font-semibold">
                    inspire
                </h3>
                <h3 class="text-3xl font-semibold">
                    insightful
                </h3>  
                <h3 class="text-3xl font-semibold">
                    innovate
                </h3>     
            </div>
        <div>
    </section>
    <section class="max-w-screen flex gap-x-6 items-start justify-center">
        <article  class="flex flex-col items-center justify-start gap-y-6 pt-14 px-6">
            <div onclick="redirectForum(3)" id="forum-${forum.pk}" class="card rounded-sm h-[300px] w-full lg:w-[800px] bg-base-100 shadow-md transform transition hover:ring hover:bg-opacity-70 cursor-pointer">
                <div class="card-body p-4 md:p-6 relative">
                <label id="delete-button" for="${forum.pk}" class=" text-xl text-red-500 absolute right-2 top-2 md:right-5 md:top-4 px-3 py-1 hover:bg-gray-200 rounded-md transition duration-100 cursor-pointer">X</label>
                <h2 class="card-title text-[18px] md:text-xl">${forum.fields.title}</h2>
                    <div class="h-full ">
                        <p class="leading-none font-bold text-gray-600 text-base mb-6">${forum.fields.date} <span class="font-normal ml-3"> date</span></p>
                        <p class='text-[13px] md:text-[15px] flex flex-col flex-wrap multi-line'>${forum.fields.description} 
                            blalbalbkblalblablablablalbblbbbbbbbbl lalblab asljdlakdlaksd laklsdk lasld laskdl kalskdlakld klaskdla kdlkladklad asdas s
                            blalbalbkblalblablablablalbblbbbbbbbbl lalblab asljdlakdlaksd laklsdk lasld laskdl kalskdlakld klaskdla kdlkladklad asdas s

                        </p>
                        </div>
                </div>
                </div>
            </div>
            <input type="checkbox" id=${forum.pk} class="modal-toggle" />
            <div class="modal modal-bottom sm:modal-middle">
                <div class="modal-box flex flex-col items-center">
                <h3 class="font-bold text-lg">Deleted forum can't be restored</h3>
                <h2 class=" text-lg">Are you sure?</h2>
                <div class="modal-action mt-10">
                    <button aria="${forum.pk}" class="btn bg-red-500 text-white hover:bg-red-600">delete</button>
                    <label id="toggle-delete-modal-${forum.pk}" for=${forum.pk} class="btn bg-white text-red-500">cancel</label>
                </div>
                </div>
        </article>
        <h3>halooo</h3> 
    <section>  
</main>
<script>
function fetchAllForum(){
    $.get(window.location.href+"get_all_forum/", function(data){
        console.log(data)
    })
}
$(document).ready(fetchAllForum);
</script>
<script>
    $("#delete-button").click(function(e){e.stopPropagation(); console.log(e)})
    function redirectForum( forum_id){
        window.open(window.location.href+`get_forum/${forum_id}`, "_blank");
    }

</script>
{% endblock content %}